/*! be-boundless Tue Aug 09 2016 14:53:14 */
$(function(){function a(a){function b(a,b,c){function d(){i+=1/60;var a=i/j,b=k[h](a);1>a?(requestAnimFrame(d),window.scrollTo(e+(f-e)*b,0)):window.scrollTo(f,0)}var e=window.scrollX||document.documentElement.scrollLeft,f=a||0,g=b||2e3,h=c||"easeOutSine",i=0,j=Math.max(.1,Math.min(Math.abs(e-f)/g,1.2)),k={easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInOutQuint:function(a){return(a/=.5)<1?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)}};d()}var c=($("html, body"),$(".activiado")),d=0;d=a.classList.contains("prevSlide")?c.prev().length?c.prev().offset().left:0:c.next().length?c.next().offset().left:0,b(d,1500,"easeInOutQuint")}function b(a){k===!0&&(l.style.left=Math.ceil((75>a?75:a)-(j-o))+"px",window.scrollTo(d*p/(m.offsetWidth/a),0))}function c(a){l.style.left=Math.ceil(a/q*n)+"px"}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();{var d=window.innerWidth,e=$("#dyno"),f=$("body"),g=document.getElementsByTagName("section"),h=0;d*$("section").length}document.onkeydown=function(a){if("37"==a.keyCode)$(".prevSlide").click();else{if("39"!=a.keyCode)return;$(".nextSlide").click()}},$("#arrows a").on("click",function(b){b.preventDefault(),a(this)}),window.addEventListener("resize",function(){d=window.innerWidth,offsetX=window.pageXOffset});var i=0,j=0,k=!1,l=document.getElementById("scrub"),m=document.getElementById("scrubCont"),n=m.offsetWidth-100,o=0,p=$("section").length-1,q=d*p,r=0,s=!1;window.addEventListener("mousemove",function(a){r=a.clientX,s||window.requestAnimFrame(function(){b(r),s=!0}),s=!1}),m.addEventListener("mousedown",function(a){k=!0,i=a.pageX,j=a.clientX,o=l.offsetLeft}),window.addEventListener("mouseup",function(){k=!1});var t=0,u=!1;window.addEventListener("scroll",function(){t=window.pageXOffset,k||window.requestAnimFrame(function(){c(t),u=!0}),u=!1});var v=new ScrollMagic.Controller({vertical:!1}),w=(new TimelineMax).to("#slide1text",2,{x:"-100%",ease:Power0.easeInOut},0),x=(new TimelineMax).fromTo("#slide2text",1,{x:"100%",scale:.75},{x:"0%",scale:1.025}),y=(new TimelineMax).fromTo("#slide3text",1,{x:"100%",scale:.75},{x:"0%",scale:1.025}),z=(new TimelineMax).fromTo("#slide4text",1,{x:"100%",scale:.75},{x:"0%",scale:1.025});$("section").each(function(a){var b=new ScrollMagic.Scene({duration:"100%",triggerElement:this,triggerHook:.5});b.addTo(v),b.setClassToggle(this,"activiado"),b.on("enter",function(){var b=g[a+1];$(b).focus(),b&&0===b.style.backgroundImage.length&&(b.style.backgroundImage="url("+b.getAttribute("data-img")+")")})}),$("section div").each(function(){var a=new ScrollMagic.Scene({duration:"50%",triggerElement:this,triggerHook:0});a.addTo(v)});new ScrollMagic.Scene({duration:"100%",triggerElement:"#slide1",triggerHook:0}).setClassToggle("#arrows","hidePrev").setTween(w).addTo(v),new ScrollMagic.Scene({duration:"125%",triggerElement:"#slide2",triggerHook:.9}).setTween(x).addTo(v),new ScrollMagic.Scene({duration:"125%",triggerElement:"#slide3",triggerHook:.9}).setTween(y).addTo(v),new ScrollMagic.Scene({duration:"125%",triggerElement:"#slide4",triggerHook:.9}).setTween(z).addTo(v),new ScrollMagic.Scene({duration:"125%",triggerElement:"#slides section:last-child",triggerHook:0}).setClassToggle("#arrows","hideNext").addTo(v);scrollConverter.activate(),$(".uw-btn").on("click",function(a){var b=$(a.target),c=b.data("js")||"test",d=b.data("title")||"Immersive story";h=window.pageXOffset,a.preventDefault(),f.addClass("loading"),history.pushState({page:d},d,a.target.href),e.load(a.target.href+" #immersive-body",function(){scrollConverter.deactivate(h),$.when($.getScript("/wp-content/themes/be-boundless/immersive-stories/js/"+c+".min.js"),$.Deferred(function(a){$(a.resolve)})).done(function(){setTimeout(function(){f.toggleClass("dyno_story loading"),f.removeClass("active-header")},500),setTimeout(function(){f.addClass("makeStatic")},1e3)})})}),$("button#empty").on("click",function(a){a.preventDefault(),f.removeClass("makeStatic"),document.body.scrollLeft=h,setTimeout(function(){e.empty(),userClosedMenu===!0&&(f.addClass("active-header"),scrollConverter.activate(h))},500),history.back(),f.removeClass("dyno_story")}),$("body").toggleClass("pageLoaded")});