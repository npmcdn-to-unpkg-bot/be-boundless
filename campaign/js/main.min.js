/*! be-boundless Thu Aug 04 2016 16:01:35 */
$(function(){function a(a){function b(a,b,c){function d(){i+=1/60;var a=i/j,b=k[h](a);1>a?(requestAnimFrame(d),window.scrollTo(e+(f-e)*b,0)):window.scrollTo(f,0)}var e=window.scrollX||document.documentElement.scrollLeft,f=a||0,g=b||2e3,h=c||"easeOutSine",i=0,j=Math.max(.1,Math.min(Math.abs(e-f)/g,1.2)),k={easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInOutQuint:function(a){return(a/=.5)<1?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)}};d()}var c=($("html, body"),$(".activiado")),d=0;d=a.classList.contains("prevSlide")?c.prev().length?c.prev().offset().left:0:c.next().length?c.next().offset().left:0,b(d,1500,"easeInOutQuint")}function b(a){j===!0&&(k.style.left=Math.ceil((75>a?75:a)-(i-n))+"px",window.scrollTo(d*o/(l.offsetWidth/a),0))}function c(a){k.style.left=Math.ceil(a/p*m)+"px"}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();var d=window.innerWidth,e=$("#dyno"),f=$("body"),g=0;d*$("section").length;document.onkeydown=function(a){if("37"==a.keyCode)$(".prevSlide").click();else{if("39"!=a.keyCode)return;$(".nextSlide").click()}},$("#arrows a").on("click",function(b){b.preventDefault(),a(this)}),window.addEventListener("resize",function(){d=window.innerWidth,offsetX=window.pageXOffset});var h=0,i=0,j=!1,k=document.getElementById("scrub"),l=document.getElementById("scrubCont"),m=l.offsetWidth-100,n=0,o=$("section").length-1,p=d*o,q=0,r=!1;window.addEventListener("mousemove",function(a){q=a.clientX,r||window.requestAnimFrame(function(){b(q),r=!0}),r=!1}),l.addEventListener("mousedown",function(a){j=!0,h=a.pageX,i=a.clientX,n=k.offsetLeft}),window.addEventListener("mouseup",function(a){j=!1});var s=0,t=!1;window.addEventListener("touchend",function(a){var b=document.getElementById("campaign-header"),c=b.getBoundingClientRect().left;console.log(c)}),window.addEventListener("scroll",function(a){s=window.pageXOffset,j||window.requestAnimFrame(function(){c(s),t=!0}),t=!1});var u=new ScrollMagic.Controller({vertical:!1}),v=(new TimelineMax).to("#slide1text",2,{x:"-100%",ease:Power0.easeInOut},0),w=(new TimelineMax).fromTo("#slide2text",1,{x:"100%",scale:.75},{x:"0%",scale:1.025}),x=(new TimelineMax).fromTo("#slide3text",1,{x:"100%",scale:.75},{x:"0%",scale:1.025}),y=(new TimelineMax).fromTo("#slide4text",1,{x:"100%",scale:.75},{x:"0%",scale:1.025});$("section").each(function(a){var b=new ScrollMagic.Scene({duration:"100%",triggerElement:this,triggerHook:.5});b.addTo(u),b.setClassToggle(this,"activiado")}),$("section div").each(function(){var a=new ScrollMagic.Scene({duration:"50%",triggerElement:this,triggerHook:0});a.addTo(u)});new ScrollMagic.Scene({duration:"100%",triggerElement:"#slide1",triggerHook:0}).setClassToggle("#arrows","hidePrev").setTween(v).addTo(u),new ScrollMagic.Scene({duration:"125%",triggerElement:"#slide2",triggerHook:.9}).setTween(w).addTo(u),new ScrollMagic.Scene({duration:"125%",triggerElement:"#slide3",triggerHook:.9}).setTween(x).addTo(u),new ScrollMagic.Scene({duration:"125%",triggerElement:"#slide4",triggerHook:.9}).setTween(y).addTo(u),new ScrollMagic.Scene({duration:"125%",triggerElement:"#slides section:last-child",triggerHook:0}).setClassToggle("#arrows","hideNext").addTo(u);scrollConverter.activate(),$(".uw-btn").on("click",function(a){g=window.pageXOffset,a.preventDefault(),f.addClass("loading"),e.load("education/ #immersive-body",function(a,b,c){$.when($.getScript("http://69.91.242.113/cms/boundless/wp-content/themes/be-boundless/immersive-stories/js/education.min.js"),$.Deferred(function(a){$(a.resolve)})).done(function(){setTimeout(function(){f.addClass("dyno_story"),f.removeClass("loading")},500)}),scrollConverter.deactivate(g)})}),$("button#empty").on("click",function(a){a.preventDefault(),setTimeout(function(){e.empty()},500),f.removeClass("dyno_story"),scrollConverter.activate(g)}),$("body").toggleClass("pageLoaded active-header")}),$(function(){document.getElementById("campaign-expand").addEventListener("click",function(){document.getElementsByTagName("body")[0].classList.toggle("active-header")})});